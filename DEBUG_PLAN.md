# Survey App デバッグ計画書

## デバッグ対象機能一覧

### 1. 認証システム
- [ ] ユーザー登録（メール/パスワード）
- [ ] ログイン（メール/パスワード）
- [ ] ログアウト
- [ ] パスワードリセット
- [ ] プロファイル更新
- [ ] セッション管理
- [ ] 認証後のリダイレクト
- [ ] 保護されたルートへのアクセス制御

### 2. アンケート管理（CRUD）
- [ ] アンケート作成
  - [ ] タイトル・説明の入力
  - [ ] 自動保存機能
  - [ ] バリデーション
- [ ] アンケート一覧表示
  - [ ] ユーザー別フィルタリング
  - [ ] ステータス別フィルタリング
  - [ ] 検索機能
  - [ ] ページネーション
- [ ] アンケート編集
  - [ ] 基本情報の更新
  - [ ] 下書き保存
  - [ ] 公開/非公開切り替え
- [ ] アンケート削除
  - [ ] 確認ダイアログ
  - [ ] 関連データの削除
- [ ] アンケート複製
- [ ] アンケート詳細表示

### 3. 質問管理
- [ ] 質問の追加
  - [ ] 各質問タイプ（8種類）
  - [ ] 質問設定の保存
- [ ] 質問の編集
  - [ ] テキスト編集
  - [ ] オプション編集
  - [ ] 必須/任意切り替え
- [ ] 質問の削除
- [ ] 質問の並び替え（ドラッグ&ドロップ）
- [ ] 質問の複製
- [ ] 質問のプレビュー

### 4. 回答システム
- [ ] 公開アンケートへのアクセス
- [ ] 回答フォームの表示
- [ ] 各質問タイプの回答入力
  - [ ] 単一選択
  - [ ] 複数選択
  - [ ] テキスト（短文/長文）
  - [ ] 評価スケール
  - [ ] マトリックス
  - [ ] 日付選択
  - [ ] ファイルアップロード
- [ ] 回答の保存
- [ ] 必須項目のバリデーション
- [ ] 回答完了画面
- [ ] 回答の一時保存

### 5. 分析・レポート
- [ ] 回答一覧表示
- [ ] 基本統計情報
- [ ] グラフ表示
  - [ ] 円グラフ
  - [ ] 棒グラフ
  - [ ] 折れ線グラフ
- [ ] フィルタリング機能
- [ ] データエクスポート
  - [ ] CSV
  - [ ] Excel
  - [ ] PDF

### 6. チーム・権限管理
- [ ] チーム作成
- [ ] メンバー招待
- [ ] 役割・権限設定
- [ ] チーム切り替え
- [ ] アンケート共有設定

### 7. UI/UX・テーマ
- [ ] Cosmicテーマの適用確認
- [ ] ライト/ダークモード切り替え
- [ ] レスポンシブデザイン
  - [ ] モバイル
  - [ ] タブレット
  - [ ] デスクトップ
- [ ] アニメーション動作
- [ ] ローディング状態
- [ ] エラー表示
- [ ] トースト通知

### 8. パフォーマンス・セキュリティ
- [ ] ページ読み込み速度
- [ ] API応答時間
- [ ] 画像最適化
- [ ] キャッシュ動作
- [ ] RLSポリシー動作確認
- [ ] XSS対策
- [ ] CSRF対策

### 9. データベース・バックエンド
- [ ] Supabase接続
- [ ] データ整合性
- [ ] トランザクション処理
- [ ] エラーハンドリング
- [ ] リアルタイム更新
- [ ] ファイルストレージ

### 10. その他の機能
- [ ] PWA機能
- [ ] オフライン対応
- [ ] 通知機能
- [ ] 多言語対応（将来的）
- [ ] アクセシビリティ

---

## デバッググループ分け

### グループ1: 認証・アンケート基本機能
**担当範囲**:
1. 認証システム（全項目）
2. アンケート管理（CRUD）
3. データベース・バックエンド（Supabase関連）

**優先度**: 高
**理由**: アプリケーションの基盤となる機能

### グループ2: 質問・回答システム
**担当範囲**:
1. 質問管理（全項目）
2. 回答システム（全項目）
3. UI/UX・テーマ（フォーム関連）

**優先度**: 高
**理由**: アンケートアプリの中核機能

### グループ3: 分析・拡張機能
**担当範囲**:
1. 分析・レポート（全項目）
2. チーム・権限管理
3. UI/UX・テーマ（全体）
4. パフォーマンス・セキュリティ
5. その他の機能

**優先度**: 中
**理由**: 基本機能が動作した後に必要な機能

---

## デバッグ実施手順

### 各グループ共通
1. 開発サーバーを起動（`npm run dev`）
2. テストユーザーでログイン
3. 担当機能を順番にテスト
4. エラーや不具合を記録
5. 修正を実施
6. 再テストで動作確認
7. `DEVELOPMENT_LOG.md`に結果を記録

### テスト環境
- **URL**: http://localhost:3000 (または3002)
- **テストアカウント**:
  - test@example.com / Test1234!
  - admin@example.com / Test1234!
  - viewer@example.com / Test1234!

### エラー記録フォーマット
```markdown
### [機能名] - [エラー概要]
- **発生条件**: 
- **エラー内容**: 
- **期待される動作**: 
- **実際の動作**: 
- **エラーログ**: 
- **修正方法**: 
- **修正後の確認**: 
```

---

## 成功基準

各機能が以下の基準を満たすこと：
1. エラーなく動作する
2. ユーザビリティが良好
3. パフォーマンスが適切
4. セキュリティが確保されている
5. テーマ対応が完璧

---

*このドキュメントは各グループのデバッグ進捗に応じて更新されます。*